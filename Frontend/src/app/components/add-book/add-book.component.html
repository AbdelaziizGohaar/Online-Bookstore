<div class="py-20 max-w-md mx-auto bg-white p-6 shadow-md rounded-lg mt-12">
  <h2 class="text-2xl font-bold mb-5 text-center text-orange-900">Add New Book</h2>

  <form [formGroup]="bookForm" (ngSubmit)="addBook()" class="space-y-5">
    
    <!-- Title -->
    <div>
      <label class="block text-sm font-semibold text-orange-700 mb-1">Title</label>
      <input 
        type="text" formControlName="title" 
        class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-600"
      >
      @if (bookForm.get('title')?.invalid && bookForm.get('title')?.touched) {
        <p class="text-red-600 text-xs mt-1">Title is required</p>
      }
    </div>

    <!-- Author -->
    <div>
      <label class="block text-sm font-semibold text-orange-700 mb-1">Author</label>
      <input 
        type="text" formControlName="author" 
        class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-600"
      >
      @if (bookForm.get('author')?.invalid && bookForm.get('author')?.touched) {
        <p class="text-red-600 text-xs mt-1">Author is required</p>
      }
    </div>

    <!-- Price -->
    <div>
      <label class="block text-sm font-semibold text-orange-700 mb-1">Price ($)</label>
      <input 
        type="number" formControlName="price" 
        class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-600"
      >
      @if (bookForm.get('price')?.invalid && bookForm.get('price')?.touched) {
        <p class="text-red-600 text-xs mt-1">Enter a valid price</p>
      }
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-semibold text-orange-700 mb-1">Description</label>
      <textarea 
        formControlName="description" 
        class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-600"
      ></textarea>
      @if (bookForm.get('description')?.invalid && bookForm.get('description')?.touched) {
        <p class="text-red-600 text-xs mt-1">Description is required</p>
      }
    </div>

    <!-- Stock -->
    <div>
      <label class="block text-sm font-semibold text-orange-700 mb-1">Stock</label>
      <input 
        type="number" formControlName="stock" 
        class="w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-600"
      >
      @if (bookForm.get('stock')?.invalid && bookForm.get('stock')?.touched) {
        <p class="text-red-600 text-xs mt-1">Stock must be a positive number</p>
      }
    </div>

    <!-- Image Upload -->
    <div class="relative border-dashed border-2 border-orange-300 p-3 rounded-md text-center">
      <label class="block text-sm font-semibold text-orange-700 mb-1">Book Cover (Upload Image)</label>
      <input 
        type="file" (change)="onFileSelect($event)" 
        class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-900"
      >
      @if (imageError) {
        <p class="text-red-600 text-xs mt-1">Please upload a valid image file</p>
      }
    </div>

    <!-- Submit Button -->
    @if (bookForm.invalid) {
      <button 
      type="submit" [disabled]="bookForm.invalid" 
        class="w-full bg-orange-300 text-white px-5 py-2 rounded-md font-semibold text-sm shadow-md"        
    >
      Add Book
    </button>    
  } @else {
    <button 
    type="submit" [disabled]="bookForm.invalid" 
    class="w-full bg-orange-900 text-white px-5 py-2 rounded-md font-semibold text-sm hover:bg-orange-900 shadow-md transition-transform hover:scale-105"  >
    Add Book
  </button>       
    }
  </form>
</div>
