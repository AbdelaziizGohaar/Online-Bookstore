<div
  class="border rounded-2xl shadow-md hover:shadow-xl transition cursor-pointer overflow-hidden"
  (click)="redirectToBookDetails(book.book_id)"
>
  <div class="relative group">
    <img
      [src]="book.image"
      class="w-full h-64 object-cover rounded-t-2xl transition-transform duration-300 group-hover:scale-105"
      alt="{{ book.title }}"
    />
    
    <!-- Stock Badge with Slide & Fade Effect -->
    @if (book.stock > 0) {
      <span
        class="absolute top-3 left-3 bg-black text-white text-xs font-semibold px-3 py-1 rounded-lg shadow-md animate-fade-slide"
      >
        In Stock
      </span>
    } @else {
      <span
        class="absolute top-3 left-3 bg-gray-500 text-white text-xs font-semibold px-3 py-1 rounded-lg shadow-md animate-fade-slide"
      >
        Out of Stock
      </span>
    }
  </div>

  <div class="p-4 flex flex-col items-center text-center">
    <h5 class="mt-3 text-lg font-bold text-gray-900">{{ book.title }}</h5>
    <p class="text-gray-700 text-base mt-1">
      <b class="text-red-500">{{ book.price }}$</b>
    </p>
    <button
      type="button"
      class="mt-4 w-full px-4 py-2 text-sm font-medium text-white bg-black rounded-full hover:bg-gray-800 transition-transform duration-200 active:scale-95"
      (click)="addToCart($event, book)"
    >
      Add to Cart
    </button>
  </div>
</div>
